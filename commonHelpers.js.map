{"version":3,"file":"commonHelpers.js","sources":["../src/js/cat-api.js","../src/index.js"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.headers.common['x-api-key'] =\n  'live_YcPK50Q9Tlo6HTwuQdWD2bCxz3yagmtk1ZnwD5kwWM9YVWOHL7d5LNuEvzs7sfZj';\n\nexport async function fetchBreeds() {\n  return await axios\n    .get('https://api.thecatapi.com/v1/breeds')\n    .then(response => response.data);\n}\n\nexport async function fetchCatByBreed(breedId) {\n  return await axios\n    .get(`https://api.thecatapi.com/v1/images/search?breed_ids=${breedId}`)\n    .then(response => response.data);\n}","import SlimSelect from 'slim-select';\nimport 'slim-select/styles';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { fetchBreeds, fetchCatByBreed } from './js/cat-api';\n\nconst elements = {\n    selector: document.querySelector('.breed-select'),\n    divCatInfo: document.querySelector('.cat-info'),\n    loader: document.querySelector('.loader'),\n    error: document.querySelector('.error'),\n};\n\nelements.loader.classList.replace('loader', 'is-hidden');\nelements.error.classList.add('is-hidden');\nelements.divCatInfo.classList.add('is-hidden');\n\nlet arrBreedsId = [];\n\nfetchBreeds()   \n.then(data => {\n    data.forEach(element => {\n        arrBreedsId.push({text: element.name, value: element.id});\n    });\n    new SlimSelect({\n        select: elements.selector,\n        data: arrBreedsId\n    });\n    })\n.catch(onFetchError);\n\nelements.selector.addEventListener('change', onSelectBreed);\n\nfunction onSelectBreed(event) {\n    elements.loader.classList.replace('is-hidden', 'loader');\n    elements.divCatInfo.classList.add('is-hidden');\n\n    const breedId = event.currentTarget.value;\n    fetchCatByBreed(breedId)\n    .then(data => {\n        elements.loader.classList.replace('loader', 'is-hidden');\n        const { url, breeds } = data[0];\n        \n        elements.divCatInfo.innerHTML = `<div class=\"box-img\">\n        <img src=\"${url}\" alt=\"${breeds[0].name}\" width=\"400\"/>\n        </div>\n        <div class=\"box\"><h2>${breeds[0].name}</h2>\n        <p>${breeds[0].description}</p>\n        <p><b>Temperament:</b> ${breeds[0].temperament}</p></div>`\n\n        elements.divCatInfo.classList.remove('is-hidden');\n    })\n    .catch(onFetchError);\n};\n\nfunction onFetchError(error) {\n    elements.loader.classList.replace('loader', 'is-hidden');\n    iziToast.error({\n                title: 'Error',\n                position: 'center',\n                message: 'Oops! Something went wrong! Try reloading the page or select another cat breed!',\n            });\n\n};"],"names":["axios","fetchBreeds","response","fetchCatByBreed","breedId","elements","arrBreedsId","data","element","SlimSelect","onFetchError","onSelectBreed","event","url","breeds","error","iziToast"],"mappings":"owBAEAA,EAAM,SAAS,QAAQ,OAAO,aAC5B,wEAEK,eAAeC,GAAc,CAClC,OAAO,MAAMD,EACV,IAAI,qCAAqC,EACzC,KAAKE,GAAYA,EAAS,IAAI,CACnC,CAEO,eAAeC,EAAgBC,EAAS,CAC7C,OAAO,MAAMJ,EACV,IAAI,wDAAwDI,GAAS,EACrE,KAAKF,GAAYA,EAAS,IAAI,CACnC,CCTA,MAAMG,EAAW,CACb,SAAU,SAAS,cAAc,eAAe,EAChD,WAAY,SAAS,cAAc,WAAW,EAC9C,OAAQ,SAAS,cAAc,SAAS,EACxC,MAAO,SAAS,cAAc,QAAQ,CAC1C,EAEAA,EAAS,OAAO,UAAU,QAAQ,SAAU,WAAW,EACvDA,EAAS,MAAM,UAAU,IAAI,WAAW,EACxCA,EAAS,WAAW,UAAU,IAAI,WAAW,EAE7C,IAAIC,EAAc,CAAA,EAElBL,EAAa,EACZ,KAAKM,GAAQ,CACVA,EAAK,QAAQC,GAAW,CACpBF,EAAY,KAAK,CAAC,KAAME,EAAQ,KAAM,MAAOA,EAAQ,EAAE,CAAC,CAChE,CAAK,EACD,IAAIC,EAAW,CACX,OAAQJ,EAAS,SACjB,KAAMC,CACd,CAAK,CACL,CAAK,EACJ,MAAMI,CAAY,EAEnBL,EAAS,SAAS,iBAAiB,SAAUM,CAAa,EAE1D,SAASA,EAAcC,EAAO,CAC1BP,EAAS,OAAO,UAAU,QAAQ,YAAa,QAAQ,EACvDA,EAAS,WAAW,UAAU,IAAI,WAAW,EAE7C,MAAMD,EAAUQ,EAAM,cAAc,MACpCT,EAAgBC,CAAO,EACtB,KAAKG,GAAQ,CACVF,EAAS,OAAO,UAAU,QAAQ,SAAU,WAAW,EACvD,KAAM,CAAE,IAAAQ,EAAK,OAAAC,CAAQ,EAAGP,EAAK,GAE7BF,EAAS,WAAW,UAAY;AAAA,oBACpBQ,WAAaC,EAAO,GAAG;AAAA;AAAA,+BAEZA,EAAO,GAAG;AAAA,aAC5BA,EAAO,GAAG;AAAA,iCACUA,EAAO,GAAG,wBAEnCT,EAAS,WAAW,UAAU,OAAO,WAAW,CACxD,CAAK,EACA,MAAMK,CAAY,CACvB,CAEA,SAASA,EAAaK,EAAO,CACzBV,EAAS,OAAO,UAAU,QAAQ,SAAU,WAAW,EACvDW,EAAS,MAAM,CACH,MAAO,QACP,SAAU,SACV,QAAS,iFACzB,CAAa,CAEb"}
{"version":3,"file":"commonHelpers.js","sources":["../src/js/cat-api.js","../src/index.js"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.headers.common['x-api-key'] =\n  'live_YcPK50Q9Tlo6HTwuQdWD2bCxz3yagmtk1ZnwD5kwWM9YVWOHL7d5LNuEvzs7sfZj';\n\naxios.defaults.baseURL = 'https://api.thecatapi.com/v1';\n\nexport function fetchBreeds() {\n  return axios.get('/breeds')\n    .then(response => {\n      return response.data;\n    });\n}\n\nexport function fetchCatByBreed(breedId) {\n  return axios.get(`/images/search?breed_ids=${breedId}`)\n    .then(response => {\n      return response.data;\n    });\n}","import SlimSelect from 'slim-select';\nimport 'slim-select/styles';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { fetchBreeds, fetchCatByBreed } from './js/cat-api';\n\nconst elements = {\n    selector: document.querySelector('.breed-select'),\n    divCatInfo: document.querySelector('.cat-info'),\n    loader: document.querySelector('.loader'),\n    error: document.querySelector('.error'),\n};\n\nsetVisible(elements.loader);\n\nconst slimSelect = new SlimSelect({\n  select: elements.selector,\n  settings: {\n    placeholderText: 'Select breeds',\n  },\n});\n\nlet arrBreedsId = [];\n\nfetchBreeds()   \n.then(data => {\n    data.forEach(element => {\n        arrBreedsId.push({text: element.name, value: element.id});\n    });\n    slimSelect.setData([{ placeholder: true, text: '' }, ...arrBreedsId]);\n    elements.selector.addEventListener('change', onSelectBreed);\n    setVisible(elements.selector);\n    setVisible(elements.loader, false);\n    })\n.catch(onFetchError);\n\nfunction onSelectBreed(event) {\n    setVisible(elements.selector, false);\n    setVisible(elements.divCatInfo, false);\n    setVisible(elements.loader);\n    const breedId = event.currentTarget.value;\n    fetchCatByBreed(breedId)\n        .then(data => {\n        const { url, breeds } = data[0];\n            elements.divCatInfo.innerHTML = `<div class=\"box-img\">\n        <img src=\"${url}\" alt=\"${breeds[0].name}\" width=\"400\"/>\n        </div>\n        <div class=\"box\"><h2>${breeds[0].name}</h2>\n        <p>${breeds[0].description}</p>\n        <p><b>Temperament:</b> ${breeds[0].temperament}</p></div>`;\n\n        setVisible(elements.loader, false);\n        setVisible(elements.selector);\n        setVisible(elements.divCatInfo);\n    })\n    .catch(onFetchError);\n};\n\nfunction onFetchError(error) {\n    // elements.loader.classList.replace('loader', 'is-hidden');\n    // elements.selector.classList.remove('is-hidden');\n    setVisible(elements.selector);\n    setVisible(elements.loader, false);\n    iziToast.error({\n                title: 'Error',\n                position: 'center',\n                message: 'Oops! Something went wrong! Try reloading the page or select another cat breed!',\n            });\n\n};\n\nfunction setVisible(el, isVisible = true) {\n    el.classList.toggle('is-hidden', !isVisible);\n}"],"names":["axios","fetchBreeds","response","fetchCatByBreed","breedId","elements","setVisible","slimSelect","SlimSelect","arrBreedsId","data","element","onSelectBreed","onFetchError","event","url","breeds","error","iziToast","el","isVisible"],"mappings":"owBAEAA,EAAM,SAAS,QAAQ,OAAO,aAC5B,wEAEFA,EAAM,SAAS,QAAU,+BAElB,SAASC,GAAc,CAC5B,OAAOD,EAAM,IAAI,SAAS,EACvB,KAAKE,GACGA,EAAS,IACjB,CACL,CAEO,SAASC,EAAgBC,EAAS,CACvC,OAAOJ,EAAM,IAAI,4BAA4BI,GAAS,EACnD,KAAKF,GACGA,EAAS,IACjB,CACL,CCbA,MAAMG,EAAW,CACb,SAAU,SAAS,cAAc,eAAe,EAChD,WAAY,SAAS,cAAc,WAAW,EAC9C,OAAQ,SAAS,cAAc,SAAS,EACxC,MAAO,SAAS,cAAc,QAAQ,CAC1C,EAEAC,EAAWD,EAAS,MAAM,EAE1B,MAAME,EAAa,IAAIC,EAAW,CAChC,OAAQH,EAAS,SACjB,SAAU,CACR,gBAAiB,eAClB,CACH,CAAC,EAED,IAAII,EAAc,CAAA,EAElBR,EAAa,EACZ,KAAKS,GAAQ,CACVA,EAAK,QAAQC,GAAW,CACpBF,EAAY,KAAK,CAAC,KAAME,EAAQ,KAAM,MAAOA,EAAQ,EAAE,CAAC,CAChE,CAAK,EACDJ,EAAW,QAAQ,CAAC,CAAE,YAAa,GAAM,KAAM,EAAI,EAAE,GAAGE,CAAW,CAAC,EACpEJ,EAAS,SAAS,iBAAiB,SAAUO,CAAa,EAC1DN,EAAWD,EAAS,QAAQ,EAC5BC,EAAWD,EAAS,OAAQ,EAAK,CACrC,CAAK,EACJ,MAAMQ,CAAY,EAEnB,SAASD,EAAcE,EAAO,CAC1BR,EAAWD,EAAS,SAAU,EAAK,EACnCC,EAAWD,EAAS,WAAY,EAAK,EACrCC,EAAWD,EAAS,MAAM,EAC1B,MAAMD,EAAUU,EAAM,cAAc,MACpCX,EAAgBC,CAAO,EAClB,KAAKM,GAAQ,CACd,KAAM,CAAE,IAAAK,EAAK,OAAAC,CAAQ,EAAGN,EAAK,GACzBL,EAAS,WAAW,UAAY;AAAA,oBACxBU,WAAaC,EAAO,GAAG;AAAA;AAAA,+BAEZA,EAAO,GAAG;AAAA,aAC5BA,EAAO,GAAG;AAAA,iCACUA,EAAO,GAAG,wBAEnCV,EAAWD,EAAS,OAAQ,EAAK,EACjCC,EAAWD,EAAS,QAAQ,EAC5BC,EAAWD,EAAS,UAAU,CACtC,CAAK,EACA,MAAMQ,CAAY,CACvB,CAEA,SAASA,EAAaI,EAAO,CAGzBX,EAAWD,EAAS,QAAQ,EAC5BC,EAAWD,EAAS,OAAQ,EAAK,EACjCa,EAAS,MAAM,CACH,MAAO,QACP,SAAU,SACV,QAAS,iFACzB,CAAa,CAEb,CAEA,SAASZ,EAAWa,EAAIC,EAAY,GAAM,CACtCD,EAAG,UAAU,OAAO,YAAa,CAACC,CAAS,CAC/C"}